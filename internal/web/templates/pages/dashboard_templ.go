// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.960
package pages

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"github.com/mccune1224/betrayal/internal/web/templates/layouts"
	"strconv"
)

type DashboardData struct {
	CyclePhase   string
	CycleNumber  int
	PlayersAlive int
	PlayersDead  int
	TotalPlayers int
}

func Dashboard(data DashboardData) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var2 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<script>\n\t\t\tdocument.body.addEventListener('redeployStarted', function() {\n\t\t\t\t// Disable automatic polling\n\t\t\t\tconst statusDiv = document.getElementById('health-status');\n\t\t\t\tstatusDiv.setAttribute('hx-trigger', 'none');\n\n\t\t\t\t// Show restarting status\n\t\t\t\tstatusDiv.innerHTML = `\n\t\t\t\t\t<div class=\"flex flex-col gap-3\">\n\t\t\t\t\t\t<div class=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t<span class=\"text-zinc-400 text-sm\">BOT</span>\n\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t<span class=\"status-degraded\"></span>\n\t\t\t\t\t\t\t\t<span class=\"text-amber-500 text-sm\">RESTARTING</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t<span class=\"text-zinc-400 text-sm\">DATABASE</span>\n\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t<span class=\"status-online\"></span>\n\t\t\t\t\t\t\t\t<span class=\"text-green-500 text-sm\">ONLINE</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"text-xs text-zinc-600 mt-2\">\n\t\t\t\t\t\t\tRESTARTING BOT...\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\thx-get=\"/health/status\"\n\t\t\t\t\t\t\thx-target=\"#health-status\"\n\t\t\t\t\t\t\thx-swap=\"innerHTML\"\n\t\t\t\t\t\t\tclass=\"btn-ghost text-sm mt-2\">\n\t\t\t\t\t\t\tREFRESH\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t`;\n\n\t\t\t\t// Re-enable normal polling after 30 seconds\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tconst statusDiv = document.getElementById('health-status');\n\t\t\t\t\tstatusDiv.setAttribute('hx-trigger', 'load, every 15s');\n\t\t\t\t\t// Trigger a refresh\n\t\t\t\t\thtmx.trigger(statusDiv, 'load');\n\t\t\t\t}, 30000);\n\t\t\t});\n\t\t</script> <h1 class=\"text-2xl font-bold mb-6 text-amber-400\">DASHBOARD</h1><!-- Status Cards - Mobile: 1 col, Desktop: 2 col then 3 col --> <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\"><!-- Bot Status Card - Most Important --><div class=\"bg-zinc-900 border border-amber-700 p-4\"><h2 class=\"text-sm text-zinc-400 mb-3 border-b border-zinc-700 pb-2\">SYSTEM STATUS</h2><div id=\"health-status\" hx-get=\"/health/status\" hx-trigger=\"load, every 15s\" hx-swap=\"innerHTML\"><!-- Loading state --><div class=\"flex items-center justify-center py-4\"><span class=\"spinner\"></span> <span class=\"ml-2 text-zinc-500 text-sm\">CHECKING...</span></div></div></div><!-- Cycle Status --><div class=\"bg-zinc-900 border border-amber-700 p-4\"><h2 class=\"text-sm text-zinc-400 mb-3 border-b border-zinc-700 pb-2\">CURRENT CYCLE</h2><p class=\"text-3xl font-bold text-amber-500\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var3 string
			templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(data.CyclePhase)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/dashboard.templ`, Line: 88, Col: 22}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, " <span class=\"text-orange-400\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var4 string
			templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(strconv.Itoa(data.CycleNumber))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/dashboard.templ`, Line: 89, Col: 67}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "</span></p></div><!-- Player Count --><div class=\"bg-zinc-900 border border-amber-700 p-4\"><h2 class=\"text-sm text-zinc-400 mb-3 border-b border-zinc-700 pb-2\">PLAYERS</h2><div class=\"flex items-baseline gap-4\"><div><span class=\"text-3xl font-bold text-green-500\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var5 string
			templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(strconv.Itoa(data.PlayersAlive))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/dashboard.templ`, Line: 98, Col: 87}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "</span> <span class=\"text-xs text-zinc-500 ml-1\">ALIVE</span></div><div><span class=\"text-xl text-red-500\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var6 string
			templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(strconv.Itoa(data.PlayersDead))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/dashboard.templ`, Line: 102, Col: 73}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "</span> <span class=\"text-xs text-zinc-500 ml-1\">DEAD</span></div></div><p class=\"text-xs text-zinc-600 mt-2\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var7 string
			templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(strconv.Itoa(data.TotalPlayers))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/dashboard.templ`, Line: 106, Col: 75}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, " TOTAL</p></div><!-- Quick Actions --><div class=\"bg-zinc-900 border border-amber-700 p-4\"><h2 class=\"text-sm text-zinc-400 mb-3 border-b border-zinc-700 pb-2\">ACTIONS</h2><button id=\"redeploy-btn\" hx-post=\"/admin/redeploy\" hx-confirm=\"Are you sure you want to redeploy? This will restart the bot.\" hx-swap=\"none\" hx-disabled-elt=\"this\" hx-indicator=\"#redeploy-indicator\" class=\"btn-danger w-full text-sm relative\"><span id=\"redeploy-text\">REDEPLOY BOT</span> <span id=\"redeploy-indicator\" class=\"htmx-indicator flex items-center justify-center\"><span class=\"spinner mr-2\"></span> RESTARTING...</span></button></div></div><!-- Recent Players Section --> <div class=\"bg-zinc-900 border border-amber-700\"><div class=\"flex justify-between items-center p-4 border-b border-zinc-700\"><h2 class=\"text-sm text-zinc-400\">RECENT PLAYERS</h2><a href=\"/players\" class=\"text-orange-400 hover:text-orange-300 text-sm\">VIEW ALL â†’</a></div><div class=\"overflow-x-auto\" hx-get=\"/players/table\" hx-trigger=\"load\" hx-swap=\"innerHTML\"><div class=\"flex items-center justify-center py-8\"><span class=\"spinner\"></span> <span class=\"ml-2 text-zinc-500 text-sm\">LOADING...</span></div></div></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = layouts.Base("Dashboard").Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
